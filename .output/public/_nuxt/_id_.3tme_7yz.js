import{_ as Ue}from"./client-only.DuEgPIHb.js";import{_ as De}from"./AppProductCard.vue.BJMAYlJC.js";import{a9 as ze,aa as Te,d as je,r as k,ab as qe,ac as Be,Z as Me,ad as Pe,o as i,a as _,b as e,e as t,V as u,j as D,m as y,l as m,t as s,O as j,ae as F,s as G,af as Le,ag as Ie,T as Ae,J as q,K as E,N as K,k as ye,n as r,W as he,q as le,g as B,a0 as Ne,ah as Oe,ai as Re,a2 as Fe,B as H,h as J,L as be,M as Ve,C as Ge,f as re,S as Ee,y as Ke,F as He,G as Je,Y as Qe,v as We}from"./entry.z2TJ7FsL.js";import{u as Ye}from"./useOrders.YeCxytLc.js";import{u as Ze}from"./useProducts.p1LffWDY.js";import{u as $e}from"./vue.f36acd1f.H_qE3iM-.js";import{c as M}from"./index.5qZc6TVt.js";import"./nuxt-link.LR1MpOyr.js";function Xe(Q,P){const{title:L,titleTemplate:w,...I}=Q;return $e({title:L,titleTemplate:w,_flatMeta:I},{...P,transform(z){const W=ze({...z._flatMeta});return delete z._flatMeta,{...z,meta:W}}})}const et=()=>({lang:Te("lang",()=>"ru")}),tt={class:"text-h5 text-primary font-weight-medium"},at={class:"text-right"},lt={class:"text-right"},rt={class:"text-right"},st={class:"text-right"},ot={class:"d-flex align-center gap-1 justify-end"},nt={class:"text-right"},dt={class:"text-primary text-right"},ut={class:"text-right"},it={class:"text-right"},ct={class:"text-right"},pt={class:"text-right"},mt={style:{"white-space":"pre-line"}},ft={class:"w-100 d-flex pb-5 justify-space-between align-center"},gt={class:"text-primary"},wt=je({__name:"[id]",async setup(Q){var oe,ne,de,ue,ie,ce,pe,me,fe,ge,ve;let P,L;const w=[a=>!!a||"asdf"],{lang:I}=et(),{createOrder:z}=Ye(),{getProductById:W,getAllProducts:ke}=Ze(),Y=k(!1),Z=qe(),X=k(!1),A=k(!1),x=k(!1),ee=k(0),l=k(null),te=k([]),se=k(null),p=Be({checked:!1,first_name:"",last_name:"",message:"",country:232,phone:""}),we=async()=>{var a;x.value=!0;try{if(!((a=Z.params)!=null&&a.id))return;const o=await W(Z.params.id,"expand=images,category,brand");l.value=o,xe(o.category.id,o.brand.id)}catch(o){alert({uz:"Bunday Qurilma topilmadi!",ru:"Данное оборудование не найдено!",en:"This Equipment not found!"}[I.value]),console.log(o)}finally{x.value=!1}},xe=async(a,o)=>{var C;const h=await ke(`?category=${a}&brand=${o}&page=1&limit=10&expand=images,brand`);te.value=(C=h.results)==null?void 0:C.filter(ae=>{var d;return ae.slug!==((d=Z.params)==null?void 0:d.id)})},Ce=a=>({title:a.name,"append-avatar":a.flag}),Se=async()=>{var o,h;const{valid:a}=await((o=se.value)==null?void 0:o.validate());if(a)try{Y.value=!0,await z({...p,product:(h=l.value)==null?void 0:h.id}),A.value=!1,alert({uz:"Muvaffaqiyatli yuborildi!",ru:"Успешно отправлено!",en:"Succesfully sended!"}[I.value]),Object.assign(p,{checked:!1,first_name:"",last_name:"",message:"",country:232,phone:"",product:null})}catch(C){console.log(C)}finally{Y.value=!1}};return[P,L]=Me(()=>we()),await P,L(),Xe({keywords:`${(oe=l.value)==null?void 0:oe.title_en}, ${(ne=l.value)==null?void 0:ne.title_ru}, ${(de=l.value)==null?void 0:de.title_uz}`,title:(ue=l.value)==null?void 0:ue.title_ru,ogTitle:()=>{var a;return(a=l.value)==null?void 0:a.title_ru},ogDescription:(ie=l.value)==null?void 0:ie.description_ru,ogImage:(me=(pe=(ce=l.value)==null?void 0:ce.images)==null?void 0:pe[0])==null?void 0:me.image,description:(fe=l.value)==null?void 0:fe.description_ru}),$e({meta:[{id:"og:price:amount",property:"og:price:amount",content:`${(ge=l.value)==null?void 0:ge.price} USD`},{id:"og:price:currency",property:"og:price:currency",content:"USD"},{id:"product:price:amount",property:"product:price:amount",content:`${(ve=l.value)==null?void 0:ve.price} USD`},{id:"product:price:currency",property:"product:price:currency",content:"USD"}]}),(a,o)=>{const h=Pe("router-link"),C=Ue,ae=De;return i(),_(Je,null,{default:e(()=>[t(H,null,{default:e(()=>{var d,_e;return[x.value?j("",!0):(i(),_(u,{key:0,cols:"12"},{default:e(()=>[t(D,{border:"",flat:""},{default:e(()=>[t(y,{class:"d-flex gap-1 align-center"},{default:e(()=>{var n,c,f,b,V,g,v,S;return[(f=(c=(n=l.value)==null?void 0:n.category)==null?void 0:c.parent)!=null&&f.parent?(i(),_(h,{key:0,class:"text-decoration-none text-black text-hover-link",to:`/products?category=${l.value.category.parent.parent.id}`},{default:e(()=>[m(s(l.value.category.parent.parent[`name_${a.$i18n.locale}`])+" /",1)]),_:1},8,["to"])):j("",!0),(V=(b=l.value)==null?void 0:b.category)!=null&&V.parent?(i(),_(h,{key:1,class:"text-decoration-none text-black text-hover-link",to:`/products?category=${(g=l.value.category.parent)==null?void 0:g.id}`},{default:e(()=>[m(s(l.value.category.parent[`name_${a.$i18n.locale}`])+" /",1)]),_:1},8,["to"])):j("",!0),(S=(v=l.value)==null?void 0:v.category)!=null&&S.id?(i(),_(h,{key:2,class:"text-decoration-none text-black text-hover-link",to:`/products?category=${l.value.category.id}`},{default:e(()=>[m(s(l.value.category[`name_${a.$i18n.locale}`]),1)]),_:1},8,["to"])):j("",!0)]}),_:1})]),_:1})]),_:1})),t(u,{cols:"12",sm:"6"},{default:e(()=>[t(F,{height:"100%",class:"h-100",loading:x.value,type:"image,image,button,button,button,button"},{default:e(()=>[t(D,{flat:"",width:"100%",height:"100%",border:""},{default:e(()=>{var n,c,f,b,V;return[t(G,{alt:(n=l.value)==null?void 0:n.title_ru,height:"500",width:"100%",src:((b=(f=(c=l.value)==null?void 0:c.images)==null?void 0:f[ee.value])==null?void 0:b.image)||"/images/nophoto.jpg"},null,8,["alt","src"]),t(Le),((V=l.value)==null?void 0:V.images.length)!==0?(i(),_(Ie,{key:0,class:"pa-0 d-flex justify-center"},{default:e(()=>[t(C,null,{default:e(()=>[t(Ae,{modelValue:ee.value,"onUpdate:modelValue":o[0]||(o[0]=g=>ee.value=g),class:"pa-2",mandatory:"","selected-class":"bg-primary","show-arrows":""},{default:e(()=>{var g;return[(i(!0),q(K,null,E((g=l.value)==null?void 0:g.images,(v,S)=>(i(),_(Qe,{key:S},{default:e(({isSelected:N,toggle:O})=>[t(le,{size:"50",rounded:"",onClick:O,color:N?"primary":"grey-lighten-3",class:"mx-1 pa-1"},{default:e(()=>[t(G,{alt:"thumb",src:(v==null?void 0:v.thumbnail)||"/images/nophoto.jpg",cover:""},null,8,["src"])]),_:2},1032,["onClick","color"])]),_:2},1024))),128))]}),_:1},8,["modelValue"])]),_:1})]),_:1})):j("",!0)]}),_:1})]),_:1},8,["loading"])]),_:1}),t(u,{cols:"12",sm:"6"},{default:e(()=>[t(F,{loading:x.value,type:"article, avatar, text, paragraph","min-height":"100%",color:"transparent",width:"100%"},{default:e(()=>[t(D,{variant:"text",width:"100%"},{default:e(()=>[t(ye,{class:"px-0 pt-0"},{default:e(()=>{var n;return[m(s((n=l.value)==null?void 0:n[`title_${a.$i18n.locale}`]),1)]}),_:1}),t(y,{class:"pb-0 pt-2 px-0 d-flex justify-space-between align-center"},{default:e(()=>{var n;return[r("div",null,[r("span",tt,s((n=l.value)==null?void 0:n.price)+" $",1)])]}),_:1}),t(y,{class:"px-0 pb-0"},{default:e(()=>[r("span",null,s(a.$t("products.information")),1),t(he,{density:"compact",hover:"",class:"rounded mt-3 border"},{default:e(()=>{var n,c,f,b,V,g,v,S,N,O;return[r("tbody",null,[r("tr",null,[r("td",null,s(a.$t("products.category")),1),r("td",at,s((n=l.value)==null?void 0:n.category[`name_${a.$i18n.locale}`]),1)]),r("tr",null,[r("td",null,s(a.$t("products.condition")),1),r("td",lt,s(a.$t("condition."+((c=l.value)==null?void 0:c.condition))),1)]),r("tr",null,[r("td",null,s(a.$t("products.year")),1),r("td",rt,s((f=l.value)==null?void 0:f.year),1)]),r("tr",null,[r("td",null,s(a.$t("products.shipping")),1),r("td",st,[r("div",ot,[t(le,{size:"30"},{default:e(()=>{var U,$;return[t(G,{alt:"flag",cover:"",src:($=B(M)[(U=l.value)==null?void 0:U.shipping_from])==null?void 0:$.flag},null,8,["src"])]}),_:1}),r("span",null,s((V=B(M)[(b=l.value)==null?void 0:b.shipping_from])==null?void 0:V.name),1)])])]),r("tr",null,[r("td",null,s(a.$t("products.sales_area")),1),r("td",nt,[t(Ne,{transition:"fade-transition","open-on-hover":!0},{activator:e(({props:U})=>{var $,R;return[r("span",Oe(Re(U)),s((R=($=l.value)==null?void 0:$.sales_areas)==null?void 0:R.length)+" стран",17)]}),default:e(()=>[t(Fe,{nav:"",density:"compact"},{default:e(()=>{var U;return[(i(!0),q(K,null,E((U=l.value)==null?void 0:U.sales_areas,($,R)=>(i(),_(We,{key:R},{prepend:e(()=>[t(le,{rounded:""},{default:e(()=>{var T;return[t(G,{alt:"flag",src:(T=B(M)[$])==null?void 0:T.flag},null,8,["src"])]}),_:2},1024)]),title:e(()=>{var T;return[m(s((T=B(M)[$])==null?void 0:T.name),1)]}),_:2},1024))),128))]}),_:1})]),_:1})])]),r("tr",null,[r("td",null,s(a.$t("products.brand")),1),r("td",dt,s((v=(g=l.value)==null?void 0:g.brand)==null?void 0:v.name),1)]),r("tr",null,[r("td",null,s(a.$t("products.model")),1),r("td",ut,s((S=l.value)==null?void 0:S.model),1)]),r("tr",null,[r("td",null,s(a.$t("products.warranty")),1),r("td",it,s((N=l.value)==null?void 0:N.warranty),1)]),r("tr",null,[r("td",null,s(a.$t("products.created")),1),r("td",ct,s(new Date((O=l.value)==null?void 0:O.created_at).toLocaleDateString()),1)])])]}),_:1})]),_:1}),t(y,{class:"px-0"},{default:e(()=>[r("span",null,s(a.$t("products.contact_us")),1),t(H,{class:"pa-2 mt-0"},{default:e(()=>[t(u,{cols:"6",md:"4",class:"pa-1"},{default:e(()=>[t(J,{href:"https://t.me/Keshmed37",height:"35","prepend-icon":"mdi-send",block:"",color:"#0088cc",variant:"flat",class:"text-none"},{default:e(()=>[m(s(a.$t("products.telegram")),1)]),_:1})]),_:1}),t(u,{cols:"6",md:"4",class:"pa-1"},{default:e(()=>[t(J,{href:"tel:+998908893700",height:"35","prepend-icon":"mdi-phone",block:"",color:"green",variant:"flat",class:"text-none"},{default:e(()=>[m(s(a.$t("products.call")),1)]),_:1})]),_:1}),t(u,{cols:"12",md:"4",class:"pa-1"},{default:e(()=>[t(J,{onClick:o[1]||(o[1]=n=>A.value=!0),height:"35","prepend-icon":"mdi-cart",block:"",color:"primary",variant:"flat",class:"text-none"},{default:e(()=>[m(s(a.$t("products.order")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1}),be(t(u,{cols:"12",sm:"6"},{default:e(()=>[t(F,{loading:x.value,type:"sentences,avatar, paragraph","min-height":"100%"},{default:e(()=>[t(D,{flat:"",border:"",width:"100%"},{default:e(()=>[t(y,{class:"text-primary pb-0 text-body-1"},{default:e(()=>[m(s(a.$t("products.characteristics")),1)]),_:1}),t(y,{class:"pt-2 px-0"},{default:e(()=>[t(he,{density:"compact",hover:""},{default:e(()=>{var n;return[r("tbody",null,[(i(!0),q(K,null,E((n=l.value)==null?void 0:n.characteristics,(c,f)=>(i(),q("tr",{key:f},[r("td",null,s(c.title[a.$i18n.locale]),1),r("td",pt,s(c.value[a.$i18n.locale]),1)]))),128))])]}),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},512),[[Ve,((_e=(d=l.value)==null?void 0:d.characteristics)==null?void 0:_e.length)>0]]),t(u,{cols:"12",sm:"6"},{default:e(()=>[t(F,{loading:x.value,type:"sentences,avatar, paragraph","min-height":"100%"},{default:e(()=>[t(D,{flat:"",border:"",width:"100%"},{default:e(()=>[t(y,{class:"text-primary pb-0 text-body-1"},{default:e(()=>[m(s(a.$t("products.description")),1)]),_:1}),t(y,{class:"pt-2"},{default:e(()=>[t(C,null,{default:e(()=>{var n;return[r("span",mt,s((n=l.value)==null?void 0:n[`description_${a.$i18n.locale}`]),1)]}),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1}),be(t(u,{cols:"12"},{default:e(()=>[r("div",ft,[r("span",gt,s(a.$t("products.similar")),1)]),t(H,null,{default:e(()=>[(i(!0),q(K,null,E(te.value,(n,c)=>(i(),_(u,{cols:"12",sm:"6",md:"4",lg:"3",key:c},{default:e(()=>[t(ae,{item:n},null,8,["item"])]),_:2},1024))),128))]),_:1})]),_:1},512),[[Ve,te.value.length>0]])]}),_:1}),t(He,{modelValue:A.value,"onUpdate:modelValue":o[8]||(o[8]=d=>A.value=d),"max-width":"450",width:"100%"},{default:e(()=>[t(D,null,{default:e(()=>[t(ye,{class:"text-primary"},{default:e(()=>[m(s(a.$t("products.send_order")),1)]),_:1}),t(y,{class:"py-3 px-4"},{default:e(()=>[t(Ge,{ref_key:"form",ref:se,modelValue:X.value,"onUpdate:modelValue":o[7]||(o[7]=d=>X.value=d)},{default:e(()=>[t(H,null,{default:e(()=>[t(u,{cols:"12",class:"py-2"},{default:e(()=>[t(re,{modelValue:p.first_name,"onUpdate:modelValue":o[2]||(o[2]=d=>p.first_name=d),class:"border rounded",flat:"","no-resize":"","hide-details":"",required:"",rules:w,density:"comfortable",variant:"outlined",placeholder:a.$t("products.first_name")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{cols:"12",class:"py-2"},{default:e(()=>[t(re,{modelValue:p.last_name,"onUpdate:modelValue":o[3]||(o[3]=d=>p.last_name=d),class:"border rounded",flat:"","no-resize":"","hide-details":"",required:"",rules:w,density:"comfortable",variant:"outlined",placeholder:a.$t("products.last_name")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{cols:"12",class:"py-2"},{default:e(()=>[t(re,{modelValue:p.phone,"onUpdate:modelValue":o[4]||(o[4]=d=>p.phone=d),class:"border rounded",flat:"","no-resize":"","hide-details":"",required:"",rules:w,density:"comfortable",variant:"outlined",placeholder:a.$t("products.phone")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{cols:"12",class:"py-2"},{default:e(()=>[t(Ee,{modelValue:p.message,"onUpdate:modelValue":o[5]||(o[5]=d=>p.message=d),class:"border rounded",flat:"","no-resize":"","hide-details":"",required:"",rules:w,density:"comfortable",variant:"outlined",placeholder:a.$t("products.message")},null,8,["modelValue","placeholder"])]),_:1}),t(u,{cols:"12",class:"py-2"},{default:e(()=>[t(Ke,{required:"","item-props":Ce,rules:w,flat:"",class:"border rounded",density:"compact","bg-color":"surface",modelValue:p.country,"onUpdate:modelValue":o[6]||(o[6]=d=>p.country=d),items:B(M),placeholder:a.$t("products.country"),"item-title":"name","hide-details":"","item-value":"id",variant:"outlined",color:"primary"},null,8,["modelValue","items","placeholder"])]),_:1}),t(u,{cols:"12",class:"d-flex justify-end pt-1"},{default:e(()=>[t(J,{loading:Y.value,disabled:!X.value,flat:"",onClick:Se,color:"primary"},{default:e(()=>[m(s(a.$t("products.send")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{wt as default};
//# sourceMappingURL=_id_.3tme_7yz.js.map
