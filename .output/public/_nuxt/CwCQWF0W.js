import{d as b,av as C,r as d,ad as k,o as _,a as V,b as e,aw as B,e as a,V as N,C as y,k as T,l as j,m as c,h as l,n as v,O as A,D as F,f,g as w,i as O,ax as R,p as x}from"./B8eVx4HV.js";import{_ as U}from"./BnteUyoe.js";const D=x("div",{class:"d-flex justify-center align-center py-4"},[x("img",{src:U,width:"130",height:"60",alt:""})],-1),$=b({__name:"login",setup(I){const{login:g}=C(),p=[n=>!!n||"asdf"],o=d(!1),i=d(!1),u=d(!1),m=d(!1),t=k({username:"",password:""}),h=async()=>{var s;i.value=!1,u.value=!0;const{valid:n}=await((s=m.value)==null?void 0:s.validate());if(n)try{await g(t),Object.assign(t,{username:"",password:""})}catch{i.value=!0}finally{u.value=!1}};return(n,s)=>(_(),V(B,null,{default:e(()=>[a(R,null,{default:e(()=>[a(N,{class:"h-screen"},{default:e(()=>[a(y,{justify:"center",align:"center",class:"h-100"},{default:e(()=>[a(T,{border:"",flat:"","max-width":"400",width:"100%"},{default:e(()=>[D,a(j,{class:"text-primary text-center mb-4"},{default:e(()=>[c("Войти в панель администратора")]),_:1}),l(i)?(_(),V(v,{key:0,class:"text-red text-center py-0"},{default:e(()=>[c("Неправильный логин или пароль")]),_:1})):A("",!0),a(v,null,{default:e(()=>[a(F,{ref_key:"form",ref:m},{default:e(()=>[a(y,{class:"pa-2"},{default:e(()=>[a(f,{cols:"12",class:"pa-2"},{default:e(()=>[a(w,{modelValue:l(t).username,"onUpdate:modelValue":s[0]||(s[0]=r=>l(t).username=r),rules:p,placeholder:"Логин","hide-details":"",density:"compact","bg-color":"surface",color:"primary",variant:"solo",flat:"",class:"border rounded"},null,8,["modelValue"])]),_:1}),a(f,{cols:"12",class:"pa-2"},{default:e(()=>[a(w,{modelValue:l(t).password,"onUpdate:modelValue":s[1]||(s[1]=r=>l(t).password=r),rules:p,"append-inner-icon":l(o)?"mdi-eye":"mdi-eye-off","onClick:appendInner":s[2]||(s[2]=r=>o.value=!l(o)),type:l(o)?"text":"password",placeholder:"Пароль","hide-details":"",density:"compact","bg-color":"surface",color:"primary",variant:"solo",flat:"",class:"border rounded"},null,8,["modelValue","append-inner-icon","type"])]),_:1}),a(f,{cols:"12",class:"pa-2"},{default:e(()=>[a(O,{disabled:l(u),onClick:h,block:"",color:"primary",flat:""},{default:e(()=>[c("Войти в систему")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{$ as default};
//# sourceMappingURL=CwCQWF0W.js.map
