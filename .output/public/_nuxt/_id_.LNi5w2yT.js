import{_ as xe}from"./client-only.eQ7JOpAS.js";import{_ as Ce}from"./AppProductCard.vue.PeRqglPp.js";import{a9 as Se,aa as De,d as Ue,r as S,ab as ze,ac as Te,Z as je,ad as Be,o as u,a as _,b as e,e as t,V as d,j as D,m as y,l as m,t as o,O as U,ae as q,s as G,af as Me,ag as Pe,T as Le,J as j,K as E,N as K,k as _e,n as s,W as ve,q as X,g as B,a0 as Ie,ah as Ae,ai as Ne,a2 as Oe,B as H,h as J,L as Re,M as Fe,C as qe,f as ee,S as Ge,y as Ee,F as Ke,G as He,Y as Je,v as Qe}from"./entry.9xEQesvV.js";import{u as We}from"./useOrders.YeCxytLc.js";import{u as Ye}from"./useProducts.p1LffWDY.js";import{u as ye}from"./vue.f36acd1f.2D7ZRwxW.js";import{c as M}from"./index.vFXdcEz2.js";function Ze(Q,P){const{title:L,titleTemplate:w,...I}=Q;return ye({title:L,titleTemplate:w,_flatMeta:I},{...P,transform(z){const W=Se({...z._flatMeta});return delete z._flatMeta,{...z,meta:W}}})}const Xe=()=>({lang:De("lang",()=>"ru")}),et={class:"text-h5 text-primary font-weight-medium"},tt={class:"text-right"},at={class:"text-right"},lt={class:"text-right"},st={class:"text-right"},ot={class:"d-flex align-center gap-1 justify-end"},rt={class:"text-right"},nt={class:"text-primary text-right"},dt={class:"text-right"},ut={class:"text-right"},it={class:"text-right"},ct={class:"text-right"},pt={style:{"white-space":"pre-line"}},mt={class:"w-100 d-flex pb-5 justify-space-between align-center"},ft={class:"text-primary"},Vt=Ue({__name:"[id]",async setup(Q){var se,oe,re,ne,de,ue,ie,ce,pe,me,fe;let P,L;const w=[a=>!!a||"asdf"],{lang:I}=Xe(),{createOrder:z}=We(),{getProductById:W,getAllProducts:he}=Ye(),Y=S(!1),te=ze(),A=S(!1),h=S(!1),Z=S(0),l=S(null),ae=S([]),le=S(null),p=Te({checked:!1,first_name:"",last_name:"",message:"",country:232,phone:""}),$e=async()=>{var a;h.value=!0;try{if(!((a=te.params)!=null&&a.id))return;const r=await W(te.params.id,"expand=images,category,brand");l.value=r,be(r.category.id,r.brand.id)}catch(r){alert({uz:"Bunday Qurilma topilmadi!",ru:"Данное оборудование не найдено!",en:"This Equipment not found!"}[I.value]),console.log(r)}finally{h.value=!1}},be=async(a,r)=>{const $=await he(`?category=${a}&brand=${r}&page=1&limit=10&expand=images,brand`);ae.value=$.results},Ve=a=>({title:a.name,"append-avatar":a.flag}),ke=async()=>{var r,$;Y.value=!0;const{valid:a}=await((r=le.value)==null?void 0:r.validate());if(a)try{await z({...p,product:($=l.value)==null?void 0:$.id}),A.value=!1,alert({uz:"Muvaffaqiyatli yuborildi!",ru:"Успешно отправлено!",en:"Succesfully sended!"}[I.value]),Object.assign(p,{checked:!1,first_name:"",last_name:"",message:"",country:232,phone:"",product:null})}catch(N){console.log(N)}finally{Y.value=!1}};return[P,L]=je(()=>$e()),await P,L(),Ze({keywords:`${(se=l.value)==null?void 0:se.title_en}, ${(oe=l.value)==null?void 0:oe.title_ru}, ${(re=l.value)==null?void 0:re.title_uz}`,title:(ne=l.value)==null?void 0:ne.title_ru,ogTitle:()=>{var a;return(a=l.value)==null?void 0:a.title_ru},ogDescription:(de=l.value)==null?void 0:de.description_ru,ogImage:(ce=(ie=(ue=l.value)==null?void 0:ue.images)==null?void 0:ie[0])==null?void 0:ce.image,description:(pe=l.value)==null?void 0:pe.description_ru}),ye({meta:[{id:"og:price:amount",property:"og:price:amount",content:`${(me=l.value)==null?void 0:me.price} USD`},{id:"og:price:currency",property:"og:price:currency",content:"USD"},{id:"product:price:amount",property:"product:price:amount",content:`${(fe=l.value)==null?void 0:fe.price} USD`},{id:"product:price:currency",property:"product:price:currency",content:"USD"}]}),(a,r)=>{const $=Be("router-link"),N=xe,we=Ce;return u(),_(He,null,{default:e(()=>[t(H,null,{default:e(()=>{var i,ge;return[h.value?U("",!0):(u(),_(d,{key:0,cols:"12"},{default:e(()=>[t(D,{border:"",flat:""},{default:e(()=>[t(y,{class:"d-flex gap-1 align-center"},{default:e(()=>{var n,c,f,b,V,g,v,x;return[(f=(c=(n=l.value)==null?void 0:n.category)==null?void 0:c.parent)!=null&&f.parent?(u(),_($,{key:0,class:"text-decoration-none text-black text-hover-link",to:`/products?category=${l.value.category.parent.parent.id}`},{default:e(()=>[m(o(l.value.category.parent.parent[`name_${a.$i18n.locale}`])+" /",1)]),_:1},8,["to"])):U("",!0),(V=(b=l.value)==null?void 0:b.category)!=null&&V.parent?(u(),_($,{key:1,class:"text-decoration-none text-black text-hover-link",to:`/products?category=${(g=l.value.category.parent)==null?void 0:g.id}`},{default:e(()=>[m(o(l.value.category.parent[`name_${a.$i18n.locale}`])+" /",1)]),_:1},8,["to"])):U("",!0),(x=(v=l.value)==null?void 0:v.category)!=null&&x.id?(u(),_($,{key:2,class:"text-decoration-none text-black text-hover-link",to:`/products?category=${l.value.category.id}`},{default:e(()=>[m(o(l.value.category[`name_${a.$i18n.locale}`]),1)]),_:1},8,["to"])):U("",!0)]}),_:1})]),_:1})]),_:1})),t(d,{cols:"12",sm:"6"},{default:e(()=>[t(q,{height:"100%",class:"h-100",loading:h.value,type:"image,image,button,button,button,button"},{default:e(()=>[t(D,{flat:"",width:"100%",height:"100%",border:""},{default:e(()=>{var n,c,f,b,V;return[t(G,{alt:(n=l.value)==null?void 0:n.title_ru,cover:"",height:"500",width:"100%",src:((b=(f=(c=l.value)==null?void 0:c.images)==null?void 0:f[Z.value])==null?void 0:b.image)||"/images/nophoto.jpg"},null,8,["alt","src"]),t(Me),((V=l.value)==null?void 0:V.images.length)!==0?(u(),_(Pe,{key:0,class:"pa-0 d-flex justify-center"},{default:e(()=>[t(N,null,{default:e(()=>[t(Le,{modelValue:Z.value,"onUpdate:modelValue":r[0]||(r[0]=g=>Z.value=g),class:"pa-2",mandatory:"","selected-class":"bg-primary","show-arrows":""},{default:e(()=>{var g;return[(u(!0),j(K,null,E((g=l.value)==null?void 0:g.images,(v,x)=>(u(),_(Je,{key:x},{default:e(({isSelected:O,toggle:R})=>[t(X,{size:"50",rounded:"",onClick:R,color:O?"primary":"grey-lighten-3",class:"mx-1 pa-1"},{default:e(()=>[t(G,{alt:"thumb",src:(v==null?void 0:v.thumbnail)||"/images/nophoto.jpg",cover:""},null,8,["src"])]),_:2},1032,["onClick","color"])]),_:2},1024))),128))]}),_:1},8,["modelValue"])]),_:1})]),_:1})):U("",!0)]}),_:1})]),_:1},8,["loading"])]),_:1}),t(d,{cols:"12",sm:"6"},{default:e(()=>[t(q,{loading:h.value,type:"article, avatar, text, paragraph","min-height":"100%",color:"transparent",width:"100%"},{default:e(()=>[t(D,{variant:"text",width:"100%"},{default:e(()=>[t(_e,{class:"px-0 pt-0"},{default:e(()=>{var n;return[m(o((n=l.value)==null?void 0:n[`title_${a.$i18n.locale}`]),1)]}),_:1}),t(y,{class:"pb-0 pt-2 px-0 d-flex justify-space-between align-center"},{default:e(()=>{var n;return[s("div",null,[s("span",et,o((n=l.value)==null?void 0:n.price)+" $",1)])]}),_:1}),t(y,{class:"px-0 pb-0"},{default:e(()=>[s("span",null,o(a.$t("products.information")),1),t(ve,{density:"compact",hover:"",class:"rounded mt-3 border"},{default:e(()=>{var n,c,f,b,V,g,v,x,O,R;return[s("tbody",null,[s("tr",null,[s("td",null,o(a.$t("products.category")),1),s("td",tt,o((n=l.value)==null?void 0:n.category[`name_${a.$i18n.locale}`]),1)]),s("tr",null,[s("td",null,o(a.$t("products.condition")),1),s("td",at,o(a.$t("condition."+((c=l.value)==null?void 0:c.condition))),1)]),s("tr",null,[s("td",null,o(a.$t("products.year")),1),s("td",lt,o((f=l.value)==null?void 0:f.year),1)]),s("tr",null,[s("td",null,o(a.$t("products.shipping")),1),s("td",st,[s("div",ot,[t(X,{size:"30"},{default:e(()=>{var C,k;return[t(G,{alt:"flag",cover:"",src:(k=B(M)[(C=l.value)==null?void 0:C.shipping_from])==null?void 0:k.flag},null,8,["src"])]}),_:1}),s("span",null,o((V=B(M)[(b=l.value)==null?void 0:b.shipping_from])==null?void 0:V.name),1)])])]),s("tr",null,[s("td",null,o(a.$t("products.sales_area")),1),s("td",rt,[t(Ie,{transition:"fade-transition","open-on-hover":!0},{activator:e(({props:C})=>{var k,F;return[s("span",Ae(Ne(C)),o((F=(k=l.value)==null?void 0:k.sales_areas)==null?void 0:F.length)+" стран",17)]}),default:e(()=>[t(Oe,{nav:"",density:"compact"},{default:e(()=>{var C;return[(u(!0),j(K,null,E((C=l.value)==null?void 0:C.sales_areas,(k,F)=>(u(),_(Qe,{key:F},{prepend:e(()=>[t(X,{rounded:""},{default:e(()=>{var T;return[t(G,{alt:"flag",src:(T=B(M)[k])==null?void 0:T.flag},null,8,["src"])]}),_:2},1024)]),title:e(()=>{var T;return[m(o((T=B(M)[k])==null?void 0:T.name),1)]}),_:2},1024))),128))]}),_:1})]),_:1})])]),s("tr",null,[s("td",null,o(a.$t("products.brand")),1),s("td",nt,o((v=(g=l.value)==null?void 0:g.brand)==null?void 0:v.name),1)]),s("tr",null,[s("td",null,o(a.$t("products.model")),1),s("td",dt,o((x=l.value)==null?void 0:x.model),1)]),s("tr",null,[s("td",null,o(a.$t("products.warranty")),1),s("td",ut,o((O=l.value)==null?void 0:O.warranty),1)]),s("tr",null,[s("td",null,o(a.$t("products.created")),1),s("td",it,o(new Date((R=l.value)==null?void 0:R.created_at).toLocaleDateString()),1)])])]}),_:1})]),_:1}),t(y,{class:"px-0"},{default:e(()=>[s("span",null,o(a.$t("products.contact_us")),1),t(H,{class:"pa-2 mt-0"},{default:e(()=>[t(d,{cols:"6",md:"4",class:"pa-1"},{default:e(()=>[t(J,{href:"https://t.me/Keshmed37",height:"35","prepend-icon":"mdi-send",block:"",color:"#0088cc",variant:"flat",class:"text-none"},{default:e(()=>[m(o(a.$t("products.telegram")),1)]),_:1})]),_:1}),t(d,{cols:"6",md:"4",class:"pa-1"},{default:e(()=>[t(J,{href:"tel:+998908893700",height:"35","prepend-icon":"mdi-phone",block:"",color:"green",variant:"flat",class:"text-none"},{default:e(()=>[m(o(a.$t("products.call")),1)]),_:1})]),_:1}),t(d,{cols:"12",md:"4",class:"pa-1"},{default:e(()=>[t(J,{onClick:r[1]||(r[1]=n=>A.value=!0),height:"35","prepend-icon":"mdi-cart",block:"",color:"primary",variant:"flat",class:"text-none"},{default:e(()=>[m(o(a.$t("products.order")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1}),Re(t(d,{cols:"12",sm:"6"},{default:e(()=>[t(q,{loading:h.value,type:"sentences,avatar, paragraph","min-height":"100%"},{default:e(()=>[t(D,{flat:"",border:"",width:"100%"},{default:e(()=>[t(y,{class:"text-primary pb-0 text-body-1"},{default:e(()=>[m(o(a.$t("products.characteristics")),1)]),_:1}),t(y,{class:"pt-2 px-0"},{default:e(()=>[t(ve,{density:"compact",hover:""},{default:e(()=>{var n;return[s("tbody",null,[(u(!0),j(K,null,E((n=l.value)==null?void 0:n.characteristics,(c,f)=>(u(),j("tr",{key:f},[s("td",null,o(c.title[a.$i18n.locale]),1),s("td",ct,o(c.value[a.$i18n.locale]),1)]))),128))])]}),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},512),[[Fe,((ge=(i=l.value)==null?void 0:i.characteristics)==null?void 0:ge.length)>0]]),t(d,{cols:"12",sm:"6"},{default:e(()=>[t(q,{loading:h.value,type:"sentences,avatar, paragraph","min-height":"100%"},{default:e(()=>[t(D,{flat:"",border:"",width:"100%"},{default:e(()=>[t(y,{class:"text-primary pb-0 text-body-1"},{default:e(()=>[m(o(a.$t("products.description")),1)]),_:1}),t(y,{class:"pt-2"},{default:e(()=>[t(N,null,{default:e(()=>{var n;return[s("span",pt,o((n=l.value)==null?void 0:n[`description_${a.$i18n.locale}`]),1)]}),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1}),h.value?U("",!0):(u(),_(d,{key:1,cols:"12"},{default:e(()=>[s("div",mt,[s("span",ft,o(a.$t("products.similar")),1)]),t(H,null,{default:e(()=>[(u(!0),j(K,null,E(ae.value,(n,c)=>(u(),_(d,{cols:"12",sm:"6",md:"4",lg:"3",key:c},{default:e(()=>[t(we,{item:n},null,8,["item"])]),_:2},1024))),128))]),_:1})]),_:1}))]}),_:1}),t(Ke,{modelValue:A.value,"onUpdate:modelValue":r[7]||(r[7]=i=>A.value=i),"max-width":"450",width:"100%"},{default:e(()=>[t(D,null,{default:e(()=>[t(_e,{class:"text-primary"},{default:e(()=>[m(o(a.$t("products.send_order")),1)]),_:1}),t(y,{class:"py-3 px-4"},{default:e(()=>[t(qe,{ref_key:"form",ref:le},{default:e(()=>[t(H,null,{default:e(()=>[t(d,{cols:"12",class:"py-2"},{default:e(()=>[t(ee,{modelValue:p.first_name,"onUpdate:modelValue":r[2]||(r[2]=i=>p.first_name=i),class:"border rounded",flat:"","no-resize":"","hide-details":"",rules:w,density:"comfortable",variant:"solo",placeholder:a.$t("products.first_name")},null,8,["modelValue","placeholder"])]),_:1}),t(d,{cols:"12",class:"py-2"},{default:e(()=>[t(ee,{modelValue:p.last_name,"onUpdate:modelValue":r[3]||(r[3]=i=>p.last_name=i),class:"border rounded",flat:"","no-resize":"","hide-details":"",rules:w,density:"comfortable",variant:"solo",placeholder:a.$t("products.last_name")},null,8,["modelValue","placeholder"])]),_:1}),t(d,{cols:"12",class:"py-2"},{default:e(()=>[t(ee,{modelValue:p.phone,"onUpdate:modelValue":r[4]||(r[4]=i=>p.phone=i),class:"border rounded",flat:"","no-resize":"","hide-details":"",rules:w,density:"comfortable",variant:"solo",placeholder:a.$t("products.phone")},null,8,["modelValue","placeholder"])]),_:1}),t(d,{cols:"12",class:"py-2"},{default:e(()=>[t(Ge,{modelValue:p.message,"onUpdate:modelValue":r[5]||(r[5]=i=>p.message=i),class:"border rounded",flat:"","no-resize":"","hide-details":"",rules:w,density:"comfortable",variant:"solo",placeholder:a.$t("products.message")},null,8,["modelValue","placeholder"])]),_:1}),t(d,{cols:"12",class:"py-2"},{default:e(()=>[t(Ee,{"item-props":Ve,rules:w,flat:"",class:"border rounded",density:"compact","bg-color":"surface",modelValue:p.country,"onUpdate:modelValue":r[6]||(r[6]=i=>p.country=i),items:B(M),placeholder:a.$t("products.country"),"item-title":"name","hide-details":"","item-value":"id",variant:"solo",color:"primary"},null,8,["modelValue","items","placeholder"])]),_:1}),t(d,{cols:"12",class:"d-flex justify-end pt-1"},{default:e(()=>[t(J,{loading:Y.value,flat:"",onClick:ke,color:"primary"},{default:e(()=>[m(o(a.$t("products.send")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{Vt as default};
//# sourceMappingURL=_id_.LNi5w2yT.js.map
